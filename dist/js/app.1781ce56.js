(function(e){function t(t){for(var r,i,s=t[0],l=t[1],c=t[2],u=0,d=[];u<s.length;u++)i=s[u],n[i]&&d.push(n[i][0]),n[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);p&&p(t);while(d.length)d.shift()();return a.push.apply(a,c||[]),o()}function o(){for(var e,t=0;t<a.length;t++){for(var o=a[t],r=!0,i=1;i<o.length;i++){var l=o[i];0!==n[l]&&(r=!1)}r&&(a.splice(t--,1),e=s(s.s=o[0]))}return e}var r={},n={app:0},a=[];function i(e){return s.p+"js/"+({about:"about"}[e]||e)+"."+{about:"3bc21d8b"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.e=function(e){var t=[],o=n[e];if(0!==o)if(o)t.push(o[2]);else{var r=new Promise(function(t,r){o=n[e]=[t,r]});t.push(o[2]=r);var a,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=i(e),a=function(t){l.onerror=l.onload=null,clearTimeout(c);var o=n[e];if(0!==o){if(o){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+r+": "+a+")");i.type=r,i.request=a,o[1](i)}n[e]=void 0}};var c=setTimeout(function(){a({type:"timeout",target:l})},12e4);l.onerror=l.onload=a,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,o){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(o,r,function(t){return e[t]}.bind(null,r));return o},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var p=c;a.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"56d7":function(e,t,o){"use strict";o.r(t);o("cadf"),o("551c"),o("097d");var r=o("2b0e"),n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("el-container",[o("el-header",[o("div",{staticStyle:{position:"relative",width:"100%","background-color":"orange","line-height":"60px"}},[e._v("Karaoke Gen")]),o("span",{staticStyle:{position:"absolute","font-size":"14px",color:"white",width:"10%","line-height":"60px",top:"0",right:"0",cursor:"pointer"},on:{click:function(t){e.trackOrderAppear=!0}}},[e._v("找回订单")])]),o("el-main",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],attrs:{"element-loading-text":"正在为您生成文件"}},[o("div",{staticClass:"function-section"},[o("el-row",{attrs:{gutter:24}},[o("el-col",{attrs:{span:12}},[o("div",{staticClass:"productBtn",class:{active:"vocal"==e.currentMode},on:{click:function(t){e.updateMode("vocal")}}},[o("h3",[e._v("自动去人声")]),o("p",[e._v("点击鼠标，一键生成伴奏")])])]),o("el-col",{attrs:{span:12}},[o("div",{staticClass:"productBtn",class:{active:"transpose"==e.currentMode},on:{click:function(t){e.updateMode("transpose")}}},[o("h3",[e._v("升调&降调")]),o("p",[e._v("唱不上去的朋友有福了")]),o("span",{staticStyle:{position:"absolute",bottom:"5px",right:"5%"}},[o("el-select",{attrs:{placeholder:"半音个数",change:e.handleSemitoneChange},model:{value:e.semitone,callback:function(t){e.semitone=t},expression:"semitone"}},e._l(e.options,function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)])])],1)],1),o("div",{staticClass:"upload-section"},[o("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{drag:"",action:e.uploadAction,"on-preview":e.handlePreview,limit:1,"on-change":e.handleChange,"on-progress":e.handleProgress,"on-remove":e.handleRemove,"on-success":e.handleSuccess,"on-error":e.handleError,"before-upload":e.handleBeforeUpload}},[o("i",{staticClass:"el-icon-upload"}),o("div",{staticClass:"el-upload__text"},[e._v("\n            拖拽音频文件或\n            "),o("em",[e._v("点击上传")])]),o("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("上传待处理音频")])])],1),e.previewWork.src?o("div",{staticClass:"preview-section"},[o("aplayer",{attrs:{autoplay:"",music:e.previewWork}})],1):e._e(),o("div",{staticClass:"pay-section"},[o("el-button",{directives:[{name:"show",rawName:"v-show",value:e.previewWork.src,expression:"previewWork.src"}],attrs:{type:"primary",plain:""},on:{click:e.confirmOrder}},[e._v("确认购买")])],1),o("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],attrs:{"element-loading-text":"正在为您找回文件",title:"找回订单",visible:e.trackOrderAppear},on:{"update:visible":function(t){e.trackOrderAppear=t}}},[o("el-form",{attrs:{model:e.form}},[o("el-form-item",{attrs:{label:"订单号","label-width":"120px"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.orderId,callback:function(t){e.$set(e.form,"orderId",t)},expression:"form.orderId"}})],1)],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.trackOrderAppear=!1}}},[e._v("取消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.trackOrder(e.form.orderId)}}},[e._v("确定")])],1)],1)],1)],1)],1)},a=[],i=(o("c5f6"),o("0f7d")),s=o.n(i),l=o("bc3a"),c={props:{initCount:Number,initActive:Boolean,iconImg:String},components:{Aplayer:s.a},computed:{uploadAction:function(){return"vocal"===this.currentMode?"http://101.201.28.186:8889/api/karaoke/upload/remove_voice":"http://101.201.28.186:8889/api/karaoke/upload/transpose_voice?semitone=".concat(this.semitone)}},data:function(){return{previewUrls:[],previewWork:{},trackOrderAppear:!1,form:{},isLoading:!1,currentMode:"vocal",file_id:"",semitone:"-1",options:[{value:"+1",label:"+1"},{value:"+2",label:"+2"},{value:"-1",label:"-1"},{value:"-2",label:"-2"}]}},watch:{},created:function(){console.log(this.$route.params.orderId),this.$route.params.orderId&&this.trackOrder(this.$route.params.orderId)},mounted:function(){},updated:function(){},beforeRouteEnter:function(e,t,o){o()},methods:{confirmOrder:function(){l.post("http://101.201.28.186:8889/api/karaoke/order/remove_voice?file_id=".concat(this.file_id)).then(function(e){console.log(e)}).catch(function(e){this.$notify({title:"Warning",message:"This is a warning message",type:"warning"}),console.log(e)}).then(function(){})},trackOrder:function(e){var t=this,o=e||this.form.orderId;console.log(o),this.isLoading=!0,l.get("http://101.201.28.186:8889/api/karaoke/query?order_id=".concat(o,"&alipay_order_id=")).then(function(e){console.log(e),location.href="http://".concat(e.data.data)}).catch(function(){t.$notify({title:"Warning",message:"This is a warning message",type:"warning"})}).then(function(){t.isLoading=!1,t.trackOrderAppear=!1})},handleSemitoneChange:function(e){console.log(e)},handleRemove:function(){},handleProgress:function(e,t,o){},handleChange:function(e,t){},handleError:function(e){this.$notify({title:"Warning",message:"This is a warning message",type:"warning"})},handleBeforeUpload:function(){return console.log("zouaddd"),this.isLoading=!0,!0},handleSuccess:function(e){this.isLoading=!1,console.log(e),this.previewWork={title:"".concat("vocal"===this.currentMode?"去人声":"转调","预览"),artist:"va",src:"http://".concat(e.data.preview_url),pic:"//2ndsenseaudio.com/wp-content/uploads/2015/10/logo@2x.png"},this.$refs.upload.clearFiles(),console.log(this.previewWork),this.file_id=e.data.id},handlePreview:function(){},previewLinks:function(){},updateMode:function(e){this.currentMode=e}}},u=c,p=(o("5c0b"),o("2877")),d=Object(p["a"])(u,n,a,!1,null,null,null),f=d.exports,v=o("8c4f"),h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("img",{attrs:{alt:"Vue logo",src:o("cf05")}}),r("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},m=[],g=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"hello"},[o("h1",[e._v(e._s(e.msg))]),e._m(0),o("h3",[e._v("Installed CLI Plugins")]),e._m(1),o("h3",[e._v("Essential Links")]),e._m(2),o("h3",[e._v("Ecosystem")]),e._m(3)])},_=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("p",[e._v("\n    For a guide and recipes on how to configure / customize this project,"),o("br"),e._v("\n    check out the\n    "),o("a",{attrs:{href:"https://cli.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-cli documentation")]),e._v(".\n  ")])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ul",[o("li",[o("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel",target:"_blank",rel:"noopener"}},[e._v("babel")])]),o("li",[o("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint",target:"_blank",rel:"noopener"}},[e._v("eslint")])])])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ul",[o("li",[o("a",{attrs:{href:"https://vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Core Docs")])]),o("li",[o("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Forum")])]),o("li",[o("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Community Chat")])]),o("li",[o("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank",rel:"noopener"}},[e._v("Twitter")])]),o("li",[o("a",{attrs:{href:"https://news.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("News")])])])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ul",[o("li",[o("a",{attrs:{href:"https://router.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-router")])]),o("li",[o("a",{attrs:{href:"https://vuex.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vuex")])]),o("li",[o("a",{attrs:{href:"https://github.com/vuejs/vue-devtools#vue-devtools",target:"_blank",rel:"noopener"}},[e._v("vue-devtools")])]),o("li",[o("a",{attrs:{href:"https://vue-loader.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-loader")])]),o("li",[o("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"}},[e._v("awesome-vue")])])])}],b={name:"HelloWorld",props:{msg:String}},k=b,w=(o("8f50"),Object(p["a"])(k,g,_,!1,null,"71b077f6",null)),y=w.exports,j={name:"home",components:{HelloWorld:y}},x=j,C=Object(p["a"])(x,h,m,!1,null,null,null),O=C.exports;r["default"].use(v["a"]);var $=new v["a"]({routes:[{path:"/",name:"home",component:O},{path:"/order/:orderId",name:"order",component:O},{path:"/about",name:"about",component:function(){return o.e("about").then(o.bind(null,"f820"))}}]}),S=o("2f62");r["default"].use(S["a"]);var E=new S["a"].Store({state:{},mutations:{},actions:{}}),W=o("5c96"),L=o.n(W);o("0fae");r["default"].use(L.a),r["default"].config.productionTip=!1,new r["default"]({router:$,store:E,render:function(e){return e(f)}}).$mount("#app")},"5c0b":function(e,t,o){"use strict";var r=o("5e27"),n=o.n(r);n.a},"5e27":function(e,t,o){},"8f50":function(e,t,o){"use strict";var r=o("eeaf"),n=o.n(r);n.a},cf05:function(e,t,o){e.exports=o.p+"img/logo.82b9c7a5.png"},eeaf:function(e,t,o){}});
//# sourceMappingURL=app.1781ce56.js.map